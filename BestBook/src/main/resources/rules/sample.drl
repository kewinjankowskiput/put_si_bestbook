package com.sample.rules
 
import com.sample.DroolsTest.Pytanie;
 
rule "Init"
    when
    $pytanie: Pytanie()
    then
    $pytanie.setTresc("Do you want some good popular fiction?");
    $pytanie.setOpcje(new String[] {"Yes", "No"});
    update($pytanie);
        
end

rule "Popular fiction - Yes"
    when
        $p : Pytanie(tresc == "Do you want some good popular fiction?" && odpowiedz == "Yes")
    then
        $p.setTresc("Thrillers?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Thrillers - Yes"
    when
        $p : Pytanie(tresc == "Thrillers?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are Before I Go To Sleep, The Girl with the Dragon Tattoo and Nineteen Minutes");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Thrillers - No"
    when
        $p : Pytanie(tresc == "Thrillers?" && odpowiedz == "No")
    then
        $p.setTresc("Mystery?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Mystery - Yes"
    when
        $p : Pytanie(tresc == "Mystery?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are The Lovely Bones and The Thirteenth Tale");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Mystery - No"
    when
        $p : Pytanie(tresc == "Mystery?"&& odpowiedz == "No")
    then
        $p.setTresc("Family?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Family - Yes"
    when
        $p : Pytanie(tresc == "Family?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are Room, My Sister's Keeper, The Memory Keeper's Daughter, and The Language of Flowers");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Family - No"
    when
        $p : Pytanie(tresc == "Family?" && odpowiedz == "No")
    then
        $p.setTresc("Fantasy/Horror?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Fantasy/Horror - Yes"
    when
        $p : Pytanie(tresc == "Fantasy/Horror?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are The Historian");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Fantasy/Horror - No"
    when
        $p : Pytanie(tresc == "Fantasy/Horror?" && odpowiedz == "No")
    then
        $p.setTresc("Romance?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Romance - Yes"
    when
        $p : Pytanie(tresc == "Romance?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are The Other Boleyn Girl and Snow Flower and the Secret Fan");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Romance - No"
    when
        $p : Pytanie(tresc == "Romance?"&& odpowiedz == "No")
    then
        $p.setTresc("Time Travel?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Time Travel - Yes"
    when
        $p : Pytanie(tresc == "Time Travel?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are The Time Traveler's Wife and 11/22/63");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Time Travel - No"
    when
        $p : Pytanie(tresc == "Time Travel?" && odpowiedz == "No")
    then
        $p.setTresc("Suspense?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end

rule "Suspense - Yes"
    when
        $p : Pytanie(tresc == "Suspense?" && odpowiedz == "Yes")
    then
        $p.setTresc("Your recommendations are Gone Girl, The Da Vinci Code, and Joyland");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Suspense - No"
    when
        $p : Pytanie(tresc == "Suspense?" && odpowiedz == "No")
    then
        $p.setTresc("Sorry, no more recommendations available.");
        $p.setOpcje(new String[]{});
        update($p);
end

rule "Popular fiction - No"
    when
        $p : Pytanie(tresc == "Do you want some good popular fiction?" && odpowiedz == "No")
    then
        $p.setTresc("How about literary fiction?");
        $p.setOpcje(new String[]{"Yes", "No"});
        update($p);
end
